<!DOCTYPE html>
<html lang="ja">
    <head>
		<meta charset="utf-8">
		<title>My first Vue app</title>
		  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" >
		  <script src="https://unpkg.com/vue@3.0.0/dist/vue.global.js"></script>   
		  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	</head></html>
  <body>
	<h1 class="bg-secondary text-white display-4 px-3">Vue3</h1>
    <div id="app" class="container">
		<p>{{ message }}</p>
		<table class="table">
			<thead class="thead-dark">
				<tr>
					<th>Name</th>
					<th>mail</th>
					<th>tel</th>
				</tr>
			</thead>
			<tr v-for="item in items">
				<td>{{item.name}}</td>
				<td>{{item.mail}}</td>
				<td>{{item.tel}}</td>
			</tr>
		</table>
    </div>
    <script>
		const appdata = {
			data(){
				return {
					message : '※データをテーブル表示する',
					items:[]
				}				
			},
			mounted() {
//				const backendEndpoint = 'http://localhost:30114/notes_from_b';
				const backendEndpoint = 'http://153.120.121.157:30114/notes_from_b';

				axios.get(backendEndpoint)
					.then(response => {
						this.items = response.data;
						console.log(this.items)
					})
					.catch(error => {
						console.error('データの取得に失敗しました',error);
					});
			}
		}
		Vue.createApp(appdata).mount('#app');
    </script>
  </body>
</html>